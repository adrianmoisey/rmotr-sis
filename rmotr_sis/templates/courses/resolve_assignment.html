{% extends "bare.html" %}
{% load staticfiles %}

{% block extra_header_styles %}
    <link href="{% static 'css/codemirror.css' %}" rel="stylesheet">
{% endblock %}

{% block main_container %}
<div class="row">
    <div class="col-sm-12">
        <form method="POST">
            {% csrf_token %}
            {% if form.source.errors %}
                <div class="alert alert-danger" role="alert">{{ form.source.errors.0|escape }}</div>
            {% endif %}
            <div class="form-group">
                <textarea class="form-control" id="id_source" name="source">{{ form.source.value }}</textarea>
            </div>
            {% if previous_attempt %}
            <blockquote><small>You have started resolving this assignment on {{previous_attempt.start_datetime}}</small></blockquote>
            {% endif %}
            <a class="btn btn-default" href="{% url 'courses:lecture_detail' lecture.id %}">Â« Back to assignments</a>
            <button type="submit" class="btn btn-success">Submit</button>
        </form>
    </div>
</div>
{% endblock %}

{% block extra_footer_scripts %}
    <script src="{% static 'js/codemirror.js' %}"></script>
    <script src="{% static 'js/python.js' %}"></script>
    <script type="text/javascript">
        var myCodeMirror = CodeMirror.fromTextArea(document.getElementById("id_source"), {
            lineNumbers: true,
            mode: "python",
            indentWithTabs: false,
            indentUnit: 4,
        });
    </script>
{% endblock %}
